% PAGE DIMENSIONS
\usepackage{geometry}
\geometry{a4paper,margin=3.5cm}

% PACKAGES
\usepackage{graphicx} %support the \includegraphics command and options
\usepackage{fancyhdr} % Headers/footers (should be set AFTER setting up the page geometry and before hyperref)
\usepackage{color}
\usepackage{eso-pic} %background pictures
\usepackage[latin1]{inputenc}
\IfFileExists{inconsolata.sty}{% Use inconsolata as mono type if available
  \usepackage{inconsolata}%
}{}
\usepackage{csquotes}
\usepackage{booktabs} % for much better looking tables
\usepackage{tabularx}
\usepackage{array} % for better arrays (eg matrices) in maths
\usepackage{paralist} % very flexible & customisable lists (eg. enumerate/itemize, etc.)
\usepackage{verbatim} % adds environment for commenting out blocks of text & for better verbatim
\usepackage{alltt} %improved verbatim
\usepackage{titlesec} %to modify \chapter, \section, etc appearance
\usepackage{hyperref} %til links, email etc - giver ogs bookmarks i pdf filen
%\usepackage{dirtree} %directory trees
\usepackage{subfig} %make it possible to include more than one captioned figure/table in a single float
\usepackage{float} %float positioning etc
\usepackage{amsmath,amsfonts,amssymb,amsthm} %AMS' packages for symbols, theorems etc.
\usepackage{xfrac} %for slash fractions
%\usepackage{wrapfig}
\usepackage{multicol}
\usepackage{footnote}
\usepackage{perpage}
%\usepackage{ctable}
\usepackage[intoc]{nomencl} %for abbreviations list
\usepackage{listings} %for source code listings
\usepackage{marginnote} %Margin notes - use \marginnote{}
%\usepackage[textsize=footnotesize]{todonotes} %the ''disable'' option removes notes
\usepackage{url}
\usepackage{multirow}
\usepackage[normalem]{ulem} %underline, and variations thereof
%\usepackage[parfill]{parskip} %Activate to begin paragraphs with an empty line rather than an indent

% to justify typewriter monofont if used a lot in one place
\newcommand*\justify{%
  \fontdimen2\font=0.4em% interword space
  \fontdimen3\font=0.2em% interword stretch
  \fontdimen4\font=0.1em% interword shrink
  \fontdimen7\font=0.1em% extra space
  \hyphenchar\font=`\-% allowing hyphenation
}

% Define custom typewriter shorthands (uses \justify)
\newcommand{\custtt}[1]{\texttt{\justify{\small #1}}}
\newcommand{\smalltt}[1]{\texttt{{\small #1}}}

% Bibliography appearance
\usepackage[style=numeric,natbib=true,sortcites=true,block=space,backend=bibtex8]{biblatex}
\bibliography{content/bibliography}

% marginnote package options
\renewcommand*{\marginfont}{\color{red}\sffamily} %red, sans-serif
\reversemarginpar %margin notes on left side

% makes footnotes in tables possible (perpage package)
\MakePerPage{footnote}
\makesavenoteenv{tabular}

% listings package settings
\lstloadlanguages{Matlab,[ANSI]C}
\lstset{
  basicstyle=\ttfamily\small,
  %aboveskip=12pt,
  %belowskip=12pt,
  %frame=l,
  numbers=left,
  numberstyle=\ttfamily\tiny,
  numbersep=8pt,
  captionpos=b,
  tabsize=2,
  extendedchars=true,
  breaklines=true,
  showspaces=false,
  showtabs=false,
  keywordstyle=\color{blue},
  escapeinside={(*¤}{¤*)},
  %rangeprefix=,
  %rangesuffix=,
  includerangemarker=false,
  %stringstyle=\color{white}\ttfamily,
  %commentstyle=\color{white} %''cheat'' to hide comments
  xleftmargin=7pt,
  xrightmargin=7pt,
  %backgroundcolor=\color{lightgray},
  showstringspaces=false,
  morekeywords={step,impulse,pzmap,bode,freqz}
}
%\renewcommand*\lstlistingname{Code}

% hyperref package settings
\hypersetup{
  unicode=true,          % non-Latin characters in Acrobat’s bookmarks
  pdftoolbar=true,        % show Acrobat’s toolbar?
  pdfmenubar=true,        % show Acrobat’s menu?
  pdffitwindow=false,     % window fit to page when opened
  pdfstartview={FitH},    % fit page to the window Horizontal/Vertical
  pdftitle={TITLE},    % title
  pdfauthor={Alexander Adelholm Brandbyge, Frederik Hagelskjær, Rudi Hansen, Leon Bonde Larsen, Kent Stark Olsen, Kim Lindberg Schwaner},% author
  pdfsubject={SUBJECT},   % subject of the document
  pdfkeywords={wordone} {wordtwo} {SDU}, % list of keywords
  pdfnewwindow=true,      % links in new window
  colorlinks=false,       % false: boxed links; true: colored links
  linkcolor=red,          % color of internal links
  citecolor=green,        % color of links to bibliography
  filecolor=magenta,      % color of file links
  urlcolor=cyan,           % color of external links
  plainpages=false
}

% Headers and footers
\pagestyle{fancy} % options: empty , plain , fancy
\setlength{\headheight}{15pt}
%\lhead{\nouppercase{\rightmark}}
\lhead{\nouppercase{\leftmark}}
\chead{}
%\rhead{}
\rhead{\nouppercase{\rightmark}}
\lfoot{}
\cfoot{}
\rfoot{\thepage}

\fancypagestyle{plain}{% Using the plain-style to be able number pages, but with an empty header! (using the report document class makes this nearly obsolete)
 \fancyhf{}
 \renewcommand{\headrulewidth}{0pt}
 \fancyfoot[RO]{\thepage}
}

% Widow/orphan penalties
\widowpenalty=300
\clubpenalty=300

%%% Contents appearance
\usepackage[]{tocbibind} % Put the bibliography in the ToC (Opts: nottoc,notlof,notlot)
\setcounter{tocdepth}{3} % set how many levels the table of contents displays. default=3
\usepackage[titles,subfigure]{tocloft} % Alter the style of the Table of Contents

% \includegraphics default folder
\graphicspath{{content/graphics/}}

% Number by section
%\numberwithin{equation}{section}
%\numberwithin{figure}{section}
%\numberwithin{table}{section}

% Paragraphs (handled by the parskip package currently?)
%\setlength{\parindent}{0pt}
%\setlength{\parskip}{2ex plus 0.5ex minus 0.2ex}

% Float positioning control
\setcounter{topnumber}{2}
\setcounter{bottomnumber}{2}
\setcounter{totalnumber}{3}
\renewcommand{\topfraction}{0.85}
\renewcommand{\bottomfraction}{0.85}
\renewcommand{\textfraction}{0.15}
\renewcommand{\floatpagefraction}{0.4}

% Header colour
\definecolor{FrontpageHeadingColor}{RGB}{5,5,60}%Heading colour definition

% Chapter name formatting
\titleformat
  {\chapter}%command
  [display]%shape
  {\normalfont\huge\bfseries}%format
  {\normalfont\Large\scshape\chaptertitlename\ \huge\thechapter}%label
  {10pt}%sep
  {\Huge}%before

% make nomenclature and change its heading/toc text (see nomencl package)
\makenomenclature
\renewcommand{\nomname}{Abbreviations}
%
%  * Pass this line to MakeIndex:
%    %bm.nlo -s nomencl.ist -o %bm.nls
%
%  * Use \nomenclature{abbr}{discriptive text} to add an entry to the
%    abbreviations list (best done where the abbreviation first occurs in the text)
%  * Example:
%    \nomenclature{ADHD}{Attention Deficit Hyperactivity Disorder}
